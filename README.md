# 📚 Study Tracker CLI - 命令行学习追踪器

> 一个功能丰富、完全可定制、为专注学习而生的命令行工具。

这是一款使用 Python 编写的轻量级学习伴侣。它旨在帮助学生和自我提升者通过简单的命令，精确记录学习时长、追踪各科解题数量、回顾历史、可视化进度，并通过智能激励系统和自动休息提醒，让学习过程更高效、更健康、也更有趣。

## ✨ 主要功能

  * **完全可定制的科目**: 通过编辑简单的 `data/config.json` 文件，即可**自由添加、删除或重命名学习科目**及其默认目标，无需修改任何代码。
  * **多科目独立追踪**: 支持为您自定义的多个科目独立记录做题数量、目标和花费时长。
  * **专注模式**: 通过 `start <科目>` 命令进入无干扰的专注模式，仅需按回车即可记录一道题，并自动计时。
  * **数据持久化**: 所有学习记录都以JSON格式自动保存在 `data/` 目录中，安全、可读且便于迁移。
  * **强大的数据可视化**:
      * **双维度分析**: 可生成“做题数量”和“花费时间”两种类型的饼状图。
      * **多时间跨度**: 支持按“今日”、“本周”和“本月”聚合数据并生成图表。
      * **文件自动归档**: 生成的图表图片会自动保存在 `charts/` 目录中。
  * **便捷的历史回顾**: 使用 `status [yesterday|YYYY-MM-DD]` 命令，轻松查看过去任何一天的学习记录。
  * **智能激励系统**:
      * **双轨里程碑**: 根据目标题量的大小，自动采用 `20%/40%/...` 或 `30%/60%/...` 的激励策略。
      * **彩色 Emoji 鼓励**: 达成里程碑时，会收到带颜色和 Emoji 的随机鼓励语，增加学习的趣味性。
  * **自动休息提醒**: 学习会话开始后，后台会自动计时，每隔50分钟提醒您休息5分钟，遵循番茄工作法原则，劳逸结合。
  * **美观的命令行界面**: 关键信息使用不同颜色和 Emoji 突出显示，界面清晰友好。

## 🚀 安装与运行

### 1\. 环境要求

  * Python 3.x
  * `matplotlib` 库 (用于生成图表)

### 2\. 安装步骤

1.  **下载代码**: 下载本项目的所有文件，或通过 git 克隆。

2.  **安装依赖**: 打开终端，进入项目目录，然后运行以下命令来安装 `matplotlib`：

    ```bash
    pip install matplotlib
    ```

3.  **配置你的科目**:

      * **首次运行**程序，它会自动在 `data/` 目录下创建一个 `config.json` 文件。
      * 打开这个文件，它的内容类似这样：
        ```json
        {
            "default_goals": {
                "math": 50,
                "english": 40
            }
        }
        ```
      * **自由修改！** 你可以在 `default_goals` 对象中随意添加、删除或修改键值对。**每一个键（Key）就是一个独立的科目**，值（Value）是它的默认目标数。
    
4.  **运行程序**: 在项目根目录下，运行主程序：

    ```bash
    python study_tracker.py
    ```

    *(请将 `study_tracker.py` 替换为您保存的实际文件名)*


## ⌨️ 使用说明

程序启动后，您可以根据提示输入以下命令 (其中的 `<科目>` 由您的 `config.json` 文件决定):

  * `start <科目>`: **核心命令**。开始一个学习会话（如果尚未开始），并直接进入指定科目的专注模式。

      * *示例*: `start math`

  * `stop`: 结束当前的整个学习会话，停止总计时，并保存本次会话的总时长。

  * `status [y|YYYY-MM-DD]`: 查看学习状态。

      * `status`: 查看今天的实时状态。
      * `status y`: 查看昨天的记录。
      * `status 2025-10-03`: 查看指定日期的记录。

  * `chart <type> [p]`: 生成饼状图并保存到 `charts/` 目录。

      * **type (类型)**: `count` (数量，可省略) 或 `time` (时间)。
      * **p (周期)**: `t` (今天，可省略), `w` (本周), `m` (本月)。
      * *示例 1*: `chart` 或 `chart count t` (生成今日做题数量图)
      * *示例 2*: `chart time w` (生成本周花费时间图)

  * `goal <科目> <数>`: 为指定科目设置今天的目标题目数。

      * *示例*: `goal cs408 15`

  * `help`: 显示所有可用命令的帮助信息。

  * `quit`: 保存所有进度并安全退出程序。

### 在专注模式下:

  * **回车 (Enter)**: 记录完成一道题。
  * `back` 或 `b`: 退出当前科目的专注模式，返回主菜单。总计时器会继续运行。

## 📁 文件结构

```
study-tracker/
├── charts/                 <-- 所有生成的图表图片 (.png)
│   └── study_chart_...
├── data/                   <-- 所有数据和配置文件
│   ├── study_log.json      <-- 你的每日学习记录
│   ├── config.json         <-- 你的科目和默认目标配置！
│   └── config.json.bak     <-- (如果升级) 自动备份的旧配置文件
└── study_tracker.py        <-- 主程序脚本
```
